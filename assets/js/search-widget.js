(()=>{var u=(e,s,t)=>{var n;return function(){var r=this,c=arguments,o=function(){n=null,t||e.apply(r,c)},d=t&&!n;clearTimeout(n),n=setTimeout(o,s),d&&e.apply(r,c)}},i=(e,s)=>{let t=document.createElement(e),n=document.createTextNode(s);return t.appendChild(n),t},m=(e,s)=>(s.forEach(t=>{e.appendChild(t)}),e);var f=document.getElementById("searchContainer"),v=document.getElementById("searchArea"),l=document.getElementById("searchBar"),a=document.createElement("aside");a.id="searchResultsPreview";var C=e=>{a.innerHTML="",e.length>0&&e.forEach(({name:s,relPermalink:t,description:n,date:r})=>{let c=document.createElement("div"),o=document.createElement("p"),d=i("a",s),[g]=t.split("index.json");d.href=g,o.appendChild(d);let h=i("p",r.toString().substring(0,10));h.classList.add("small-text");let p=i("p",n);p.classList.add("small-text"),m(c,[o,h,p]),a.appendChild(c)})};(async()=>{let{href:e}=location,t=await(await fetch(e+"index.json")).json(),n=u(r=>{let c=r.target.value.toLowerCase();if(c.length>3){f.appendChild(a),a.classList.add("appear");let o=t.data.filter(d=>{if(d.name.toLowerCase().includes(c))return!0});C(o)}else a.children.length&&(a.innerHTML="",f.removeChild(a))},500);l.addEventListener("keyup",n),l.addEventListener("click",n),l.addEventListener("search",()=>a.innerHTML=""),document.addEventListener("click",r=>{a.children.length&&!r.target.closest("#searchContainer")&&(a.innerHTML="")}),v.addEventListener("submit",r=>r.preventDefault())})();})();
