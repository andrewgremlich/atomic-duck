{{ $imageFilePath := .Get "filepath" }}
{{ $descText := .Get "desc" }}
{{ $size := .Get "size" }}
{{ $quality := .Get "quality" }}
{{ $caption := .Get "caption" }}

{{ $original := .Page.Resources.GetMatch (printf "*%s*" $imageFilePath) }}

{{ $modOriginal := $original.Resize (printf "%s %s" $size $quality) }}

<figure>
    <img src="{{ $modOriginal.RelPermalink }}" loading="lazy" title="{{ $descText }}" alt="{{ $descText }}" />
    <figcaption>{{ $caption }}</figcaption>
</figure>