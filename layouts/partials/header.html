<header>
    <nav id="siteNav">
        <a href="/">Home</a>

        {{ if .Site.Params.theming }}
        <nav>
            <div class="light icon">
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="white"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                >
                    <circle cx="12" cy="12" r="5"></circle>
                    <line x1="12" y1="1" x2="12" y2="3"></line>
                    <line x1="12" y1="21" x2="12" y2="23"></line>
                    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                    <line x1="1" y1="12" x2="3" y2="12"></line>
                    <line x1="21" y1="12" x2="23" y2="12"></line>
                    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                </svg>
            </div>
            <div class="dark icon">
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="white"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                >
                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                </svg>
            </div>
        </nav>
        {{ end }}
    </nav>

    {{ if .Site.Params.service_worker }}

    <nav>
        <div class="download icon">
            <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="white"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
            >
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                <polyline points="7 10 12 15 17 10"></polyline>
                <line x1="12" y1="15" x2="12" y2="3"></line>
            </svg>
        </div>
        <div class="trash icon">
            <svg
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="white"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
            >
                <polyline points="3 6 5 6 21 6"></polyline>
                <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                <line x1="10" y1="11" x2="10" y2="17"></line>
                <line x1="14" y1="11" x2="14" y2="17"></line>
            </svg>
        </div>
    </nav>

    {{ end }} {{ if .Site.Params.theming }}

    <script>
        const lightTheme = document.querySelector(".light");
        const darkTheme = document.querySelector(".dark");
        const body = document.querySelector("body");
        const theming = localStorage["theming"];
        const allIcons = document.querySelectorAll(".icon svg");

        const activateLight = () => {
            body.classList.remove("dark-theme");
            body.classList.add("light-theme");

            allIcons.forEach(element => element.style.stroke = "black");
        };
        
        const activateDark = () => {
            body.classList.add("dark-theme");
            body.classList.remove("light-theme");

            allIcons.forEach(element => element.style.stroke = "white");
        };

        lightTheme.style.display = "none";
        darkTheme.style.display = "none";

        if (!theming) {
            localStorage["theming"] = "dark";
            darkTheme.style.display = "block";
        } else if (theming && theming === "dark") {
            darkTheme.style.display = "block";
            activateDark();
        } else if (theming && theming === "light") {
            lightTheme.style.display = "block";
            activateLight();
        }

        darkTheme.addEventListener("click", () => {
            darkTheme.style.display = "none";
            lightTheme.style.display = "block";

            localStorage["theming"] = "light";

            activateLight();
        });

        lightTheme.addEventListener("click", () => {
            lightTheme.style.display = "none";
            darkTheme.style.display = "block";

            localStorage["theming"] = "dark";

            activateDark();
        });
    </script>

    {{ end }}
</header>
